{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gnoos\\\\Documents\\\\GitHub\\\\imdb_clone\\\\src\\\\components\\\\favorite\\\\favorite.js\";\nimport React, { Component } from 'react';\nimport './favorite.scss';\nimport { addToFavorite, deleteFromFavorite } from '../../actions/favorite';\nimport { connect } from 'react-redux';\nimport { toast } from 'react-toastify';\n\nclass Favorite extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      isFavorite: this.props.movieFavorite === null ? false : true,\n      isChanging: false\n    };\n\n    this.changeFavorite = () => {\n      if (!this.props.isLogin) {\n        // return alert(\"zaloguj sie, aby dodac film do ulubionych\");\n        // mozna to zrobic toastem\n        return toast.error('Zaloguj siÄ™, aby dodac film do ulubionych ðŸ¦„', {\n          position: 'bottom-left',\n          hideProgressBar: true,\n          autoClose: 1500\n        });\n      }\n\n      let movieId = this.props.movieId;\n\n      if (!this.props.isChanging) {\n        this.setState(prevState => ({\n          isChanging: !prevState.isChanging\n        }));\n\n        if (this.state.isFavorite) {\n          deleteFromFavorite(movieId).then(() => {\n            this.setState(prevState => ({\n              isFavorite: false,\n              isChanging: !prevState.isChanging\n            }));\n          });\n        } else {\n          addToFavorite(movieId).then(() => {\n            this.setState(prevState => ({\n              isFavorite: true,\n              isChanging: !prevState.isChanging\n            }));\n          });\n        }\n      }\n    };\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 50\n      },\n      __self: this\n    }, React.createElement(\"svg\", {\n      onClick: this.changeFavorite,\n      className: \"\".concat(this.state.isFavorite ? 'heart red' : 'heart black', \" \").concat(this.state.isChanging ? 'in-progress' : null),\n      \"enable-background\": \"new 0 0 50 50\",\n      width: \"50\",\n      height: \"50\",\n      version: \"1.1\",\n      viewBox: \"0 0 50 50\",\n      space: \"preserve\",\n      xmlns: \"http://www.w3.org/2000/svg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(\"path\", {\n      d: \"M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543  c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503  c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    })));\n  }\n\n}\n\nconst mapStateToProps = state => {\n  return {\n    isLogin: state.auth.isLogin\n  };\n};\n\nexport default connect(mapStateToProps, null)(Favorite);","map":{"version":3,"sources":["C:\\Users\\gnoos\\Documents\\GitHub\\imdb_clone\\src\\components\\favorite\\favorite.js"],"names":["React","Component","addToFavorite","deleteFromFavorite","connect","toast","Favorite","state","isFavorite","props","movieFavorite","isChanging","changeFavorite","isLogin","error","position","hideProgressBar","autoClose","movieId","setState","prevState","then","render","mapStateToProps","auth"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAO,iBAAP;AACA,SAASC,aAAT,EAAwBC,kBAAxB,QAAkD,wBAAlD;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,KAAT,QAAsB,gBAAtB;;AAEA,MAAMC,QAAN,SAAuBL,SAAvB,CAAiC;AAAA;AAAA;AAAA,SAC7BM,KAD6B,GACrB;AACJC,MAAAA,UAAU,EAAE,KAAKC,KAAL,CAAWC,aAAX,KAA6B,IAA7B,GAAoC,KAApC,GAA4C,IADpD;AAEJC,MAAAA,UAAU,EAAE;AAFR,KADqB;;AAAA,SAK7BC,cAL6B,GAKZ,MAAM;AACnB,UAAI,CAAC,KAAKH,KAAL,CAAWI,OAAhB,EAAyB;AACrB;AACA;AACA,eAAOR,KAAK,CAACS,KAAN,CAAY,8CAAZ,EAA4D;AAC/DC,UAAAA,QAAQ,EAAE,aADqD;AAE/DC,UAAAA,eAAe,EAAE,IAF8C;AAG/DC,UAAAA,SAAS,EAAE;AAHoD,SAA5D,CAAP;AAKH;;AAED,UAAIC,OAAO,GAAG,KAAKT,KAAL,CAAWS,OAAzB;;AAEA,UAAI,CAAC,KAAKT,KAAL,CAAWE,UAAhB,EAA4B;AACxB,aAAKQ,QAAL,CAAcC,SAAS,KAAK;AACxBT,UAAAA,UAAU,EAAE,CAACS,SAAS,CAACT;AADC,SAAL,CAAvB;;AAGA,YAAG,KAAKJ,KAAL,CAAWC,UAAd,EAAyB;AACrBL,UAAAA,kBAAkB,CAACe,OAAD,CAAlB,CAA4BG,IAA5B,CAAiC,MAAM;AACnC,iBAAKF,QAAL,CAAcC,SAAS,KAAK;AACxBZ,cAAAA,UAAU,EAAE,KADY;AAExBG,cAAAA,UAAU,EAAE,CAACS,SAAS,CAACT;AAFC,aAAL,CAAvB;AAIH,WALD;AAMH,SAPD,MAOK;AACDT,UAAAA,aAAa,CAACgB,OAAD,CAAb,CAAuBG,IAAvB,CAA4B,MAAM;AAC9B,iBAAKF,QAAL,CAAcC,SAAS,KAAK;AACxBZ,cAAAA,UAAU,EAAE,IADY;AAExBG,cAAAA,UAAU,EAAE,CAACS,SAAS,CAACT;AAFC,aAAL,CAAvB;AAIH,WALD;AAMH;AACJ;AAGJ,KAxC4B;AAAA;;AAyC7BW,EAAAA,MAAM,GAAG;AACL,WACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,OAAO,EAAE,KAAKV,cAAnB;AAAmC,MAAA,SAAS,YAAK,KAAKL,KAAL,CAAWC,UAAX,GAAwB,WAAxB,GAAsC,aAA3C,cAA4D,KAAKD,KAAL,CAAWI,UAAX,GAAwB,aAAxB,GAAwC,IAApG,CAA5C;AAAwJ,2BAAkB,eAA1K;AAA0L,MAAA,KAAK,EAAC,IAAhM;AAAqM,MAAA,MAAM,EAAC,IAA5M;AAAiN,MAAA,OAAO,EAAC,KAAzN;AAA+N,MAAA,OAAO,EAAC,WAAvO;AAAmP,MAAA,KAAK,EAAC,UAAzP;AAAoQ,MAAA,KAAK,EAAC,4BAA1Q;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACA;AAAM,MAAA,CAAC,EAAC,6TAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADA,CADJ,CADJ;AAOH;;AAjD4B;;AAoDjC,MAAMY,eAAe,GAAIhB,KAAD,IAAW;AAC/B,SAAO;AACHM,IAAAA,OAAO,EAAEN,KAAK,CAACiB,IAAN,CAAWX;AADjB,GAAP;AAGH,CAJD;;AAMA,eAAeT,OAAO,CAACmB,eAAD,EAAkB,IAAlB,CAAP,CAA+BjB,QAA/B,CAAf","sourcesContent":["import React, { Component } from 'react';\r\nimport './favorite.scss';\r\nimport { addToFavorite, deleteFromFavorite } from '../../actions/favorite';\r\nimport { connect } from 'react-redux';\r\nimport { toast } from 'react-toastify';\r\n\r\nclass Favorite extends Component {\r\n    state = { \r\n        isFavorite: this.props.movieFavorite === null ? false : true,\r\n        isChanging: false\r\n    }\r\n    changeFavorite = () => {\r\n        if (!this.props.isLogin) {\r\n            // return alert(\"zaloguj sie, aby dodac film do ulubionych\");\r\n            // mozna to zrobic toastem\r\n            return toast.error('Zaloguj siÄ™, aby dodac film do ulubionych ðŸ¦„', {\r\n                position: 'bottom-left',\r\n                hideProgressBar: true,\r\n                autoClose: 1500,\r\n            })\r\n        }\r\n\r\n        let movieId = this.props.movieId;\r\n\r\n        if (!this.props.isChanging) {\r\n            this.setState(prevState => ({\r\n                isChanging: !prevState.isChanging\r\n            }));\r\n            if(this.state.isFavorite){\r\n                deleteFromFavorite(movieId).then(() => {\r\n                    this.setState(prevState => ({\r\n                        isFavorite: false,\r\n                        isChanging: !prevState.isChanging\r\n                    }));\r\n                })\r\n            }else{\r\n                addToFavorite(movieId).then(() => {\r\n                    this.setState(prevState => ({\r\n                        isFavorite: true,\r\n                        isChanging: !prevState.isChanging\r\n                    }));\r\n                })\r\n            }\r\n        }\r\n\r\n        \r\n    }\r\n    render() { \r\n        return ( \r\n            <div>\r\n                <svg onClick={this.changeFavorite} className={`${this.state.isFavorite ? 'heart red' : 'heart black'} ${this.state.isChanging ? 'in-progress' : null}`} enable-background=\"new 0 0 50 50\" width=\"50\" height=\"50\" version=\"1.1\" viewBox=\"0 0 50 50\" space=\"preserve\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path d=\"M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543  c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503  c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z\" />\r\n                </svg>\r\n            </div>\r\n         );\r\n    }\r\n}\r\n \r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isLogin: state.auth.isLogin\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, null)(Favorite);"]},"metadata":{},"sourceType":"module"}